{"ast":null,"code":"var _jsxFileName = \"C:\\\\Project Zero\\\\client\\\\src\\\\components\\\\Comment.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { usePost } from \"../contexts/PostContext\";\nimport { CommentList } from \"./CommentList\";\nimport { IconButton } from \"./iconButton\";\nimport { FaEdit, FaHeart, FaReply, FaTrash } from \"react-icons/fa\";\nimport { CommentForm } from \"./CommentForm\";\nimport { useAsyncFn } from \"../hooks/useAsync\";\nimport { createComment } from \"../services/comments\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst dateFormatter = new Intl.DateTimeFormat(undefined, {\n  dateStyle: \"medium\",\n  timeStyle: \"short\"\n});\nexport function Comment({\n  id,\n  message,\n  user,\n  createdAt\n}) {\n  _s();\n  const createCommentFn = useAsyncFn(createComment);\n  const {\n    post,\n    getReplies,\n    createLocalComment\n  } = usePost();\n  const childComments = getReplies(id);\n  const [areChildrenHidden, setAreChildrenHidden] = useState(false);\n  const [isReplying, setIsReplying] = useState(false);\n  function onCommentReply(message) {\n    return createCommentFn.execute({\n      postId: post.id,\n      messag,\n      parentId: id\n    }).then(comment => {\n      setIsReplying(false);\n      createLocalComment(comment);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"name\",\n          children: user.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"date\",\n          children: dateFormatter.format(Date.parse(createdAt))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer\",\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          Icon: FaHeart,\n          \"aria-label\": \"Like\",\n          children: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: () => setIsReplying(prev => !prev),\n          Icon: FaReply,\n          \"aria-label\": isReplying ? \"Cancel Reply\" : \"Reply\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          Icon: FaEdit,\n          \"aria-label\": \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          Icon: FaTrash,\n          \"aria-label\": \"Delete\",\n          color: \"danger\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this), isReplying && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-1 m1-3\",\n      children: /*#__PURE__*/_jsxDEV(CommentForm, {\n        autoFocus: true,\n        onSubmit: onCommentReply,\n        loading: createCommentFn.loading,\n        error: createCommentFn.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), (childComments === null || childComments === void 0 ? void 0 : childComments.length) > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `nested-comments-stack ${areChildrenHidden ? \"hide\" : \"\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"collapse-line\",\n          \"aria-label\": \"Hide Replies\",\n          onClick: () => setAreChildrenHidden(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nested-comments\",\n          children: /*#__PURE__*/_jsxDEV(CommentList, {\n            comments: childComments\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `btn mt-1 ${!areChildrenHidden ? \"hide\" : \"\"}`,\n        onClick: () => setAreChildrenHidden(false),\n        children: \"Show Replies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n}\n_s(Comment, \"GvW5PFF2mwWCchlkoSBhi1GO9eE=\", false, function () {\n  return [useAsyncFn, usePost];\n});\n_c = Comment;\nvar _c;\n$RefreshReg$(_c, \"Comment\");","map":{"version":3,"names":["useState","usePost","CommentList","IconButton","FaEdit","FaHeart","FaReply","FaTrash","CommentForm","useAsyncFn","createComment","jsxDEV","_jsxDEV","Fragment","_Fragment","dateFormatter","Intl","DateTimeFormat","undefined","dateStyle","timeStyle","Comment","id","message","user","createdAt","_s","createCommentFn","post","getReplies","createLocalComment","childComments","areChildrenHidden","setAreChildrenHidden","isReplying","setIsReplying","onCommentReply","execute","postId","messag","parentId","then","comment","children","className","name","fileName","_jsxFileName","lineNumber","columnNumber","format","Date","parse","Icon","onClick","prev","color","autoFocus","onSubmit","loading","error","length","comments","_c","$RefreshReg$"],"sources":["C:/Project Zero/client/src/components/Comment.js"],"sourcesContent":["import { useState } from \"react\"\r\nimport { usePost } from \"../contexts/PostContext\"\r\nimport { CommentList } from \"./CommentList\"\r\nimport { IconButton } from \"./iconButton\"\r\nimport { FaEdit, FaHeart, FaReply, FaTrash } from \"react-icons/fa\"\r\nimport { CommentForm } from \"./CommentForm\"\r\nimport { useAsyncFn } from \"../hooks/useAsync\"\r\nimport { createComment } from \"../services/comments\"\r\n\r\nconst dateFormatter = new Intl.DateTimeFormat(undefined, {\r\n    dateStyle: \"medium\",\r\n    timeStyle: \"short\",\r\n})\r\n\r\nexport function Comment({ id, message, user, createdAt }) {\r\n    const createCommentFn = useAsyncFn(createComment)\r\n    const { post, getReplies, createLocalComment } = usePost()\r\n    const childComments = getReplies(id)\r\n    const [areChildrenHidden, setAreChildrenHidden] = useState(false)\r\n    const [isReplying, setIsReplying] = useState(false)\r\n\r\n    function onCommentReply(message) {\r\n        return createCommentFn.execute({ postId: post.id, messag, parentId: id }).then(comment => {\r\n            setIsReplying(false)\r\n            createLocalComment(comment)\r\n        })\r\n    }\r\n\r\n    return (<>\r\n        <div className=\"comment\">\r\n            <div className=\"header\">\r\n                <span className=\"name\">{user.name}</span>\r\n                <span className=\"date\">\r\n                    {dateFormatter.format(Date.parse(createdAt))}\r\n                </span>\r\n            </div>\r\n            <div className=\"message\">{message}</div>\r\n            <div className=\"footer\">\r\n                <IconButton Icon={FaHeart} aria-label=\"Like\">2</IconButton>\r\n                <IconButton onClick={() => setIsReplying(prev => !prev)} Icon={FaReply} aria-label={isReplying ? \"Cancel Reply\" : \"Reply\"} />\r\n                <IconButton Icon={FaEdit} aria-label=\"Edit\" />\r\n                <IconButton Icon={FaTrash} aria-label=\"Delete\" color=\"danger\" />\r\n            </div>\r\n        </div>\r\n        {isReplying && (\r\n            <div className=\"mt-1 m1-3\">\r\n                <CommentForm autoFocus onSubmit={onCommentReply} loading={createCommentFn.loading} error={createCommentFn.error} />\r\n            </div>\r\n        )}\r\n        {childComments?.length > 0 && (\r\n            <>\r\n                <div className={`nested-comments-stack ${areChildrenHidden ? \"hide\" : \"\"}`}>\r\n                    <button className=\"collapse-line\" aria-label=\"Hide Replies\" onClick={() => setAreChildrenHidden(true)} />\r\n                    <div className=\"nested-comments\">\r\n                        <CommentList comments={childComments} />\r\n                    </div>\r\n                </div>\r\n                <button className={`btn mt-1 ${!areChildrenHidden ? \"hide\" : \"\"}`} onClick={() => setAreChildrenHidden(false)}>Show Replies</button>\r\n            </>\r\n        )}\r\n    </>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}